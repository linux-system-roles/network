# SPDX-License-Identifier: BSD-3-Clause
# This file was generated by ensure_provider_tests.py
---
- hosts: all
  # yamllint disable rule:line-length
  name: Run playbook 'playbooks/tests_ethtool_features.yml' with initscripts as provider
  vars:
    ansible_facts_modules:
      - setup  # required to be first in the list
      - ansible.posix.rhel_facts
  tasks:
    - name: Include the task 'el_repo_setup.yml'
      include_tasks: tasks/el_repo_setup.yml
    - name: Set network provider to 'initscripts'
      set_fact:
        network_provider: initscripts
      tags:
        - always

- name: Import the playbook 'playbooks/tests_ethtool_features.yml'
  import_playbook: playbooks/tests_ethtool_features.yml
  when: (ansible_distribution in ['CentOS','RedHat'] and
    ansible_distribution_major_version | int < 9)
